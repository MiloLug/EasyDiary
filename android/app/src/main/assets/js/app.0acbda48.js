(function(t){function e(e){for(var n,s,i=e[0],o=e[1],d=e[2],l=0,b=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&b.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(b.length)b.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(c.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},c=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var u=o;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"063b":function(t,e,a){},"0cba":function(t,e,a){},"17ed":function(t,e,a){"use strict";a("6d92")},"2e13":function(t,e,a){"use strict";a("063b")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r={id:"app"};function c(t,e,a,c,s,i){var o=Object(n["o"])("Header"),d=Object(n["o"])("Sidebar"),u=Object(n["o"])("Calendar"),l=Object(n["o"])("Notes"),b=Object(n["o"])("WorkViewer"),f=Object(n["o"])("LoadingScreen");return Object(n["j"])(),Object(n["d"])("div",r,[Object(n["h"])(o),Object(n["h"])(d),Object(n["h"])(u,{default:!0}),Object(n["h"])(l),Object(n["h"])(b),Object(n["h"])(f)])}a("d3b7"),a("3ca3"),a("ddb0"),a("96cf");var s=a("1da1"),i=Object(n["r"])("data-v-0559abcc");Object(n["l"])("data-v-0559abcc");var o={class:"body"},d=Object(n["h"])("li",{class:"item name"},[Object(n["g"])(" Name"),Object(n["h"])("br"),Object(n["g"])("Lastname ")],-1);Object(n["k"])();var u=i((function(t,e,a,r,c,s){return Object(n["j"])(),Object(n["d"])("div",{class:["sidebar",{show:s.show}]},[Object(n["h"])("div",{class:"bg",onClick:e[1]||(e[1]=function(){return s.hide.apply(s,arguments)})}),Object(n["h"])("div",o,[Object(n["h"])("ul",null,[d,(Object(n["j"])(!0),Object(n["d"])(n["a"],null,Object(n["n"])(s.items,(function(e,a){return Object(n["j"])(),Object(n["d"])("li",{class:["item",{active:e.selected}],key:e.action,onClick:function(e){return t.$store.dispatch("Sidebar/onItemClick",a)}},Object(n["p"])(e.text),11,["onClick"])})),128))])])],2)})),l={name:"Sidebar",computed:{show:function(){return this.$store.state.Sidebar.show},items:function(){return this.$store.state.Sidebar.items}},methods:{hide:function(){this.$store.commit("Sidebar/hide")}}};a("17ed");l.render=u,l.__scopeId="data-v-0559abcc";var b=l,f=Object(n["r"])("data-v-3764adbe");Object(n["l"])("data-v-3764adbe");var v={class:"header"},h={class:"body"},m={class:"content"},j=Object(n["h"])("div",{class:"avatar"},null,-1);Object(n["k"])();var p=f((function(t,e,a,r,c,s){var i=Object(n["o"])("ios-menu-icon");return Object(n["j"])(),Object(n["d"])("div",v,[Object(n["h"])("div",h,[Object(n["h"])("button",{class:"menu-btn",onClick:e[1]||(e[1]=function(){return s.showSidebar.apply(s,arguments)})},[Object(n["h"])(i)]),Object(n["h"])("div",m,Object(n["p"])(s.title),1),j])])})),O={name:"Header",computed:{title:function(){var t=this.$store.state.Fragments.selected;return t?this.$store.state.Fragments.items[t]&&this.$store.state.Fragments.items[t].title:""}},methods:{showSidebar:function(){this.$store.commit("Sidebar/show")}}};a("2e13");O.render=p,O.__scopeId="data-v-3764adbe";var g=O,w=Object(n["r"])("data-v-694afad8");Object(n["l"])("data-v-694afad8");var k={key:0,class:"calendar"},y=Object(n["h"])("div",{class:"header-sized"},null,-1),S={class:"day-list",id:"block1"},x=Object(n["f"])('<div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>понедылок</div><div class="day warning" data-v-694afad8><div class="dot" data-v-694afad8></div>вывторок</div><div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>середа</div>',3),$=Object(n["h"])("div",{class:"dot"},null,-1),_=Object(n["g"])("четвер"),I=Object(n["h"])("div",{class:"day warning"},[Object(n["h"])("div",{class:"dot"}),Object(n["g"])("пятниця")],-1),F={class:"day-list",id:"block2"},V=Object(n["f"])('<div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>понедылок</div><div class="day warning" data-v-694afad8><div class="dot" data-v-694afad8></div>вывторок</div><div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>середа</div><div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>четвер</div><div class="day warning" data-v-694afad8><div class="dot" data-v-694afad8></div>пятниця</div>',5),W={class:"day-list",id:"block3"},C=Object(n["f"])('<div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>понедылок</div><div class="day warning" data-v-694afad8><div class="dot" data-v-694afad8></div>вывторок</div><div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>середа</div><div class="day" data-v-694afad8><div class="dot" data-v-694afad8></div>четвер</div><div class="day warning" data-v-694afad8><div class="dot" data-v-694afad8></div>пятниця</div>',5);Object(n["k"])();var R=w((function(t,e,a,r,c,s){return s.show?(Object(n["j"])(),Object(n["d"])("div",k,[y,Object(n["h"])("div",S,[Object(n["h"])("div",{class:"date-range-text active",onClick:e[1]||(e[1]=function(t){return s.goToBlock("#block1")})}," 1 травня - 5 травня "),x,Object(n["h"])("div",{class:"day active",onClick:e[2]||(e[2]=function(e){return t.$store.dispatch("WorkViewer/show",s.randomNumber(1,6))})},[$,_]),I]),Object(n["h"])("div",F,[Object(n["h"])("div",{class:"date-range-text",onClick:e[3]||(e[3]=function(t){return s.goToBlock("#block2")})}," 7 червень - 12 червень "),V]),Object(n["h"])("div",W,[Object(n["h"])("div",{class:"date-range-text",onClick:e[4]||(e[4]=function(t){return s.goToBlock("#block3")})}," 1 травня - 5 травня "),C])])):Object(n["e"])("",!0)})),N="Calendar",P={name:N,props:{default:Boolean},data:function(){return{isDefault:this.default}},computed:{show:function(){return this.$store.state.Fragments.items[N]&&this.$store.state.Fragments.items[N].selected}},methods:{goToBlock:function(t){document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})},randomNumber:function(t,e){return Math.floor(Math.random()*(e-t)+t)}},created:function(){this.$store.dispatch("Fragments/addFragment",{name:N,title:"календар",selected:this.isDefault});var t=this;t.$store.dispatch("Sidebar/addElement",{text:"календар",action:function(){return t.$store.commit("Fragments/selectFragment",N),!0},selectable:!0,selected:this.isDefault})}};a("5b40");P.render=R,P.__scopeId="data-v-694afad8";var L=P,B={key:0,class:"notes"};function T(t,e,a,r,c,s){return s.show?(Object(n["j"])(),Object(n["d"])("div",B,"Notes")):Object(n["e"])("",!0)}var M="Notes",A={name:M,props:{default:Boolean},data:function(){return{isDefault:this.default}},computed:{show:function(){return this.$store.state.Fragments.items[M]&&this.$store.state.Fragments.items[M].selected}},created:function(){this.$store.dispatch("Fragments/addFragment",{name:M,title:"записник",selected:this.isDefault});var t=this;t.$store.dispatch("Sidebar/addElement",{text:"записник",action:function(){return t.$store.commit("Fragments/selectFragment",M),!0},selectable:!0,selected:this.isDefault})}};A.render=T;var D=A,J=Object(n["r"])("data-v-161d6f26");Object(n["l"])("data-v-161d6f26");var E={key:0,class:"loader-bg"},H=Object(n["h"])("svg",null,[Object(n["h"])("g",null,[Object(n["h"])("path",{d:"M 50,100 A 1,1 0 0 1 50,0"})]),Object(n["h"])("g",null,[Object(n["h"])("path",{d:"M 50,75 A 1,1 0 0 0 50,-25"})]),Object(n["h"])("defs",null,[Object(n["h"])("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[Object(n["h"])("stop",{offset:"0%",style:{"stop-color":"#4aa57b","stop-opacity":"1"}}),Object(n["h"])("stop",{offset:"100%",style:{"stop-color":"#186B45","stop-opacity":"1"}})])])],-1);Object(n["k"])();var U=J((function(t,e,a,r,c,s){return s.shown?(Object(n["j"])(),Object(n["d"])("div",E,[H])):Object(n["e"])("",!0)})),G="LoadingScreen",q={name:G,data:function(){return{}},computed:{shown:function(){return this.$store.state.LoadingScreen.show}}};a("7281");q.render=U,q.__scopeId="data-v-161d6f26";var z=q,K=Object(n["r"])("data-v-464d105c");Object(n["l"])("data-v-464d105c");var Q={class:"body",ref:"work-viewer-body"},X={class:"box"},Y={class:"title"},Z=Object(n["h"])("hr",null,null,-1);Object(n["k"])();var tt=K((function(t,e,a,r,c,s){return Object(n["j"])(),Object(n["d"])("div",{class:["work-viewer",{show:s.shown}]},[Object(n["h"])("div",Q,[Object(n["h"])("div",{class:"bg",onClick:e[1]||(e[1]=function(){return s.hide.apply(s,arguments)})}),Object(n["h"])("div",X,[Object(n["h"])("div",Y,[Object(n["g"])(Object(n["p"])(s.subject_title)+" ",1),Z]),Object(n["h"])("div",{innerHTML:s.work_content},null,8,["innerHTML"])])],512)],2)})),et=(a("ac1f"),a("5319"),"WorkViewer"),at={name:et,data:function(){return{}},watch:{shown:function(){this.$refs["work-viewer-body"].scrollTop=0}},computed:{shown:function(){return this.$store.state.WorkViewer.show},subject_title:function(){return this.$store.state.WorkViewer.content.subject_title},work_content:function(){return this.$store.state.WorkViewer.content.text.replace(/(\r\n|\n)/gim,"<br>")}},methods:{hide:function(){this.$store.commit("WorkViewer/hide")}}};a("6460");at.render=tt,at.__scopeId="data-v-464d105c";var nt=at,rt={name:"App",components:{Sidebar:b,Calendar:L,Header:g,Notes:D,LoadingScreen:z,WorkViewer:nt},methods:{appLoading:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("LoadingScreen/show"),e.next=3,Promise.all([t.$store.dispatch("dataAPI/updateWorks"),t.$store.dispatch("dataAPI/updateSubjects")]);case 3:t.$store.commit("LoadingScreen/hide");case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.gg=this.$store,this.appLoading()}};a("9cdc");rt.render=c;var ct=rt,st=a("5502"),it=a("5530"),ot={namespaced:!0,state:function(){return{items:[],selected:-1,show:!1}},mutations:{addElement:function(t,e){var a=e.item,n=e.callback;a=Object(it["a"])(Object(it["a"])({},a),{},{selectable:!!a.selectable,selected:!1}),t.items.push(a),n(t.items.length-1)},selectItem:function(t,e){t.items[t.selected]&&(t.items[t.selected].selected=!1),t.items[e].selected=!0,t.selected=e},show:function(t){t.show=!0},hide:function(t){t.show=!1},switch:function(t){t.show=!t.show}},actions:{onItemClick:function(t,e){var a=t.state.items[e];a.action()&&a.selectable&&t.commit("selectItem",e),t.commit("hide")},addElement:function(t,e){t.commit("addElement",{item:e,callback:function(a){e.selected&&t.commit("selectItem",a)}})}}},dt=(a("b0c0"),{namespaced:!0,state:function(){return{items:{},selected:""}},mutations:{addFragment:function(t,e){e=Object(it["a"])(Object(it["a"])({},e),{},{selected:!1}),t.items[e.name]=e},selectFragment:function(t,e){t.items[t.selected]&&(t.items[t.selected].selected=!1),t.items[e].selected=!0,t.selected=e}},actions:{addFragment:function(t,e){t.commit("addFragment",e),e.selected&&t.commit("selectFragment",e.name)}}}),ut=(a("99af"),a("13d5"),"undefined"!=typeof InternalStorage?{write:function(t,e){InternalStorage.write(t,JSON.stringify(e))},read:function(t){var e=JSON.parse(InternalStorage.read(t));return e.ok?JSON.parse(e.data):null},exists:function(t){return InternalStorage.exists(t)}}:{write:function(t,e){localStorage.setItem(t,JSON.stringify(e))},read:function(t){var e=localStorage.getItem(t);return null!=e?JSON.parse(e):null},exists:function(t){return null!=localStorage.getItem(t)}}),lt={address:"https://9e8649701c0c.ngrok.io/",call:function(t){var e=arguments;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>1&&void 0!==e[1]?e[1]:null,a.abrupt("return",fetch(lt.address+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n||{})}).then((function(t){return t.json()})));case 2:case"end":return a.stop()}}),a)})))()}},bt={getUpdates:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!ut.exists(t)||!(a=ut.read(t)).data){e.next=13;break}return e.prev=1,e.next=4,lt.call("student/get"+t,{lastVersion:a.lastVersion||null});case 4:n=e.sent,n.hasUpdates&&(Array.isArray(n.data)?a.data=a.data.concat(n.data):Object.assign(a.data,n.data),a.lastVersion=n.lastVersion),ut.write(t,a),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:e.next=26;break;case 13:return e.prev=13,a={},e.next=17,lt.call("student/get"+t,{lastVersion:null});case 17:n=e.sent,a.data=n.data,a.lastVersion=n.lastVersion,ut.write(t,a),e.next=26;break;case 23:return e.prev=23,e.t1=e["catch"](13),e.abrupt("return",!1);case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e,null,[[1,9],[13,23]])})))()}},ft={namespaced:!0,state:function(){return{subjects:{},works:{}}},mutations:{updateSubjects:function(t,e){t.subjects=e},updateWorks:function(t,e){t.works=e}},actions:{updateSubjects:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bt.getUpdates("Subjects");case 2:a=e.sent,a&&(a=a.data.reduce((function(t,e){return t[e.id]=e,t}),{}),t.commit("updateSubjects",a));case 4:case"end":return e.stop()}}),e)})))()},updateWorks:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bt.getUpdates("Works");case 2:a=e.sent,a&&(a=a.data.reduce((function(t,e){return t[e.id]=e,t}),{}),t.commit("updateWorks",a));case 4:case"end":return e.stop()}}),e)})))()}},getters:{getWorkById:function(t,e){return function(a){return{data_text:t.works[a].data_text,subject:e.getSubjectById(t.works[a].subj_id)}}},getSubjectById:function(t){return function(e){return t.subjects[e]}}}},vt={namespaced:!0,state:function(){return{show:!1}},mutations:{show:function(t){t.show=!0},hide:function(t){t.show=!1}}},ht={namespaced:!0,state:function(){return{show:!1,content:{subject_title:"",text:""}}},mutations:{setData:function(t,e){t.content.text=e.data_text,t.content.subject_title=e.subject.title},show:function(t){t.show=!0},hide:function(t){t.show=!1}},actions:{show:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.rootGetters["dataAPI/getWorkById"](e),n&&(t.commit("setData",n),t.commit("show"));case 2:case"end":return a.stop()}}),a)})))()},hide:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("hide");case 1:case"end":return e.stop()}}),e)})))()}}},mt=Object(st["a"])({state:{},mutations:{},actions:{},modules:{Sidebar:ot,Fragments:dt,dataAPI:ft,LoadingScreen:vt,WorkViewer:ht}}),jt=a("d516"),pt=a("b489");Object(n["c"])(ct).use(mt).use(jt["a"]).use(pt["a"]).mount("#app")},"5b40":function(t,e,a){"use strict";a("0cba")},6460:function(t,e,a){"use strict";a("69a6")},"69a6":function(t,e,a){},"6d92":function(t,e,a){},7281:function(t,e,a){"use strict";a("7c03")},"7c03":function(t,e,a){},"9cdc":function(t,e,a){"use strict";a("d673")},d673:function(t,e,a){}});
//# sourceMappingURL=app.0acbda48.js.map